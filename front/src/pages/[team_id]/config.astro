---
import { OPTIONS, TEAMS } from '../../mockup';
import ConfigTeamForm from '../../components/form/ConfigTeamForm'
import Debug from '../../layouts/debug.astro'
import { previousPageUrl } from '../../utils';

const { team_id } = Astro.params;

if (!team_id) {
  return Astro.redirect('/teams', 302);
}

const team = TEAMS.find(t => t.id === team_id);

if (!team) {
  return Astro.redirect('/teams', 302);
}
---
<Debug
  title=`Shoplist - ${team.name} configuration`
  description=`Configure the team ${team.name}`
  options={[
    { name: 'Back', url: previousPageUrl(Astro) },
    ...OPTIONS['config-team']
  ]}
>
  <ConfigTeamForm client:load team={team} />
</Debug>
